
# ğŸ“ Struktur Folder & Role Aplikasi Restoran Laravel 10 + PostgreSQL + TailwindCSS

Aplikasi restoran ini memiliki 3 role utama: **Pelanggan**, **Pelayan** (gabungan admin + waiter), dan **Koki (Dapur)**. Setiap role memiliki folder dan controller terpisah agar project modular, scalable, dan mudah dikembangkan.

---

## ğŸ§© Struktur Folder Laravel (Role-based & Modular)

```
app/
â”œâ”€â”€ Http/
â”‚   â”œâ”€â”€ Controllers/
â”‚   â”‚   â”œâ”€â”€ Customer/
â”‚   â”‚   â”‚   â”œâ”€â”€ MenuController.php
â”‚   â”‚   â”‚   â”œâ”€â”€ CartController.php
â”‚   â”‚   â”‚   â”œâ”€â”€ CheckoutController.php
â”‚   â”‚   â”‚   â””â”€â”€ ReservationController.php
â”‚   â”‚   â”œâ”€â”€ Waiter/
â”‚   â”‚   â”‚   â”œâ”€â”€ OrderController.php
â”‚   â”‚   â”‚   â”œâ”€â”€ TableController.php
â”‚   â”‚   â”‚   â”œâ”€â”€ ReservationController.php
â”‚   â”‚   â”‚   â””â”€â”€ MenuManagementController.php
â”‚   â”‚   â”œâ”€â”€ Kitchen/
â”‚   â”‚   â”‚   â”œâ”€â”€ KitchenOrderController.php
â”‚   â”‚   â”‚   â””â”€â”€ MenuAvailabilityController.php
â”‚   â”‚   â”œâ”€â”€ Auth/
â”‚   â”‚   â”‚   â”œâ”€â”€ LoginController.php
â”‚   â”‚   â”‚   â””â”€â”€ RegisterController.php
â”‚   â”‚   â””â”€â”€ ApiController.php

â”œâ”€â”€ Models/
â”‚   â”œâ”€â”€ User.php
â”‚   â”œâ”€â”€ MenuCategory.php
â”‚   â”œâ”€â”€ MenuItem.php
â”‚   â”œâ”€â”€ Table.php
â”‚   â”œâ”€â”€ Reservation.php
â”‚   â”œâ”€â”€ Order.php
â”‚   â”œâ”€â”€ OrderItem.php
â”‚   â””â”€â”€ Payment.php

resources/
â”œâ”€â”€ views/
â”‚   â”œâ”€â”€ layouts/
â”‚   â”œâ”€â”€ customer/
â”‚   â”‚   â”œâ”€â”€ home.blade.php
â”‚   â”‚   â”œâ”€â”€ cart.blade.php
â”‚   â”‚   â”œâ”€â”€ checkout.blade.php
â”‚   â”‚   â””â”€â”€ reservation.blade.php
â”‚   â”œâ”€â”€ waiter/
â”‚   â”‚   â”œâ”€â”€ dashboard.blade.php
â”‚   â”‚   â”œâ”€â”€ manage-orders.blade.php
â”‚   â”‚   â”œâ”€â”€ manage-menu.blade.php
â”‚   â”‚   â””â”€â”€ reservations.blade.php
â”‚   â”œâ”€â”€ kitchen/
â”‚   â”‚   â”œâ”€â”€ orders.blade.php
â”‚   â”‚   â””â”€â”€ availability.blade.php
â”‚   â””â”€â”€ auth/
â”‚       â”œâ”€â”€ login.blade.php
â”‚       â””â”€â”€ register.blade.php

routes/
â”œâ”€â”€ web.php
â”œâ”€â”€ api.php
â”œâ”€â”€ customer.php       # optional per-role route file
â”œâ”€â”€ waiter.php
â”œâ”€â”€ kitchen.php

database/
â”œâ”€â”€ migrations/
â”œâ”€â”€ seeders/
â”œâ”€â”€ factories/

public/
â”œâ”€â”€ css/
â”‚   â””â”€â”€ app.css
â”œâ”€â”€ js/
â”‚   â””â”€â”€ app.js

tailwind.config.js
vite.config.js
```

---

## ğŸ‘¥ Pembagian Role & Fungsinya

### ğŸ”¹ Pelanggan (`Customer`)
ğŸ“ Folder: `Controllers/Customer/`  
ğŸ§¾ Fitur:
- Melihat dan mencari menu
- Menambahkan item ke keranjang
- Checkout dan bayar pesanan
- Reservasi meja (dine-in)
- Lacak status pesanan

### ğŸ”¸ Pelayan (`Waiter`)
ğŸ“ Folder: `Controllers/Waiter/`  
ğŸ§¾ Fitur:
- Melihat dan memproses semua pesanan
- Kelola reservasi
- Konfirmasi pesanan dine-in telah diterima
- Kelola status meja
- Kelola kategori dan item menu

### ğŸ”º Koki / Dapur (`Kitchen`)
ğŸ“ Folder: `Controllers/Kitchen/`  
ğŸ§¾ Fitur:
- Menerima dan melihat pesanan masuk
- Update status makanan (diproses, siap)
- Atur ketersediaan makanan: `available/habis`

---

## ğŸ›¡ï¸ Middleware Role-based (Disarankan)

Gunakan middleware seperti ini:
```php
// app/Http/Middleware/RoleMiddleware.php

if ($request->user()->role !== $role) {
    abort(403);
}
```

Registrasi di `Kernel.php`:
```php
'role' => \App\Http\Middleware\RoleMiddleware::class,
```

Dan gunakan di route:
```php
Route::middleware(['auth', 'role:waiter'])->group(function () {
    // route untuk pelayan
});
```

# ğŸ“¦ Business Rules - Aplikasi Restoran Laravel + PostgreSQL + TailwindCSS

## ğŸ§© FASE 1: FITUR UTAMA APLIKASI

### âœ… Fitur Pelanggan
- Melihat menu lengkap beserta kategori
- Menambahkan item ke **keranjang**
- Checkout pesanan dari keranjang
- Memilih jenis pesanan: dine-in, take-away, delivery
- **Dine-in** menyertakan fitur **reservasi meja**
- Melakukan pembayaran (tunai atau metode lain)
- Melacak status pesanan secara real-time
- Dine-in: Konfirmasi pesanan diterima dilakukan oleh **pelayan**

### âœ… Fitur Pelayan (gabungan Admin + Waiter)
- Login ke dashboard
- Kelola kategori dan item menu
- Kelola pengguna dan peran
- Lihat & kelola pesanan dari pelanggan
- Kelola reservasi meja dine-in
- Konfirmasi pesanan telah diterima pelanggan dine-in
- Kelola status meja (available, reserved, occupied, cleaning)

### âœ… Fitur Koki (Dapur)
- Menerima notifikasi pesanan baru
- Update status makanan: sedang dimasak, siap saji
- Update status menu: **available / habis**


## ğŸ” FASE 2: ALUR BISNIS

### ğŸ”„ Alur Pelanggan
1. Masuk ke aplikasi
2. Melihat menu dan menambahkan item ke keranjang
3. Masuk ke halaman checkout
4. Memilih tipe pesanan:
   - **Dine-in**: pilih dan reservasi meja
   - **Take-away / Delivery**: isi kontak dan alamat
5. Melakukan pembayaran
6. Melacak status pesanan
7. Pesanan diterima (untuk dine-in dikonfirmasi oleh pelayan)

### ğŸ”„ Alur Pelayan
1. Login ke dashboard
2. Lihat daftar pesanan
3. Ubah status pesanan sesuai alur: `pending â†’ processing â†’ ready â†’ completed`
4. Konfirmasi pesanan dine-in sudah diterima oleh pelanggan
5. Kelola daftar reservasi dan status meja

### ğŸ”„ Alur Dapur
1. Menerima notifikasi pesanan baru
2. Masak makanan dan update status
3. Atur status ketersediaan makanan (available / habis)


## ğŸ§± FASE 3: STRUKTUR DATABASE (PostgreSQL)

### Tabel `users`
- id, name, email, password
- role: enum('pelayan', 'koki', 'pelanggan')

### Tabel `menu_categories`
- id, name, description

### Tabel `menu_items`
- id, category_id, name, description, price, image_url
- is_available: boolean

### Tabel `tables`
- id, table_number, capacity
- status: enum('available', 'reserved', 'occupied', 'cleaning')

### Tabel `reservations`
- id, user_id, table_id, reservation_time
- status: enum('pending', 'confirmed', 'cancelled')

### Tabel `orders`
- id, user_id, table_id (nullable), order_type: enum('dine_in', 'take_away', 'delivery')
- status: enum('pending', 'processing', 'ready', 'completed', 'cancelled')
- payment_status: enum('pending', 'paid')
- total_amount, order_date

### Tabel `order_items`
- id, order_id, menu_item_id, quantity, price, notes

### Tabel `payments`
- id, order_id, amount, payment_method, transaction_id (nullable), payment_date


## ğŸ”Œ FASE 4: ENDPOINT API (Laravel 10)

### ğŸ” Autentikasi
- `POST /api/register`
- `POST /api/login`
- `POST /api/logout`

### ğŸ§¾ Manajemen Menu
- `GET /api/menu-categories`
- `POST /api/menu-categories`
- `GET /api/menu-items`
- `POST /api/menu-items`
- `PUT /api/menu-items/{id}/availability` â† update status "available/habis"

### ğŸ›’ Keranjang & Checkout
- `POST /api/cart/add`
- `GET /api/cart`
- `DELETE /api/cart/{item_id}`
- `POST /api/checkout`

### ğŸ½ï¸ Reservasi Meja
- `POST /api/reservations`
- `GET /api/reservations`
- `PUT /api/reservations/{id}/confirm`

### ğŸ“¦ Pemesanan
- `GET /api/orders`
- `POST /api/orders`
- `PUT /api/orders/{id}`
- `PUT /api/orders/{id}/confirm-received` â† oleh pelayan (dine-in)

### ğŸ’µ Pembayaran
- `POST /api/payments`
- `GET /api/payments/{order_id}`


## ğŸ¨ FASE 5: UI TAILWINDCSS

- Seluruh antarmuka pengguna menggunakan TailwindCSS
- Contoh tombol:
```html
<button class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded">
  Checkout Sekarang
</button>
```
- Layout fleksibel & responsif:
```html
<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
  <!-- Isi menu / keranjang / checkout -->
</div>
```


## ğŸ“Œ CATATAN TAMBAHAN
- Role **admin dan pelayan digabung sebagai "pelayan"**
- **Pelayan** memegang kontrol atas manajemen restoran
- Fitur **reservasi dine-in** bersifat wajib sebelum checkout dine-in
- Dapur bertanggung jawab atas **ketersediaan makanan** (available/habis)
- Konfirmasi pesanan diterima dine-in dilakukan manual oleh **pelayan**
